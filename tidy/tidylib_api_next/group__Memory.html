<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HTML Tidy: Memory Allocation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HTML Tidy
   &#160;<span id="projectnumber">5.9.15</span>
   </div>
   <div id="projectbrief">The HTACG Tidy HTML Project</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__Memory.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Memory Allocation<div class="ingroups"><a class="el" href="group__public__api.html">External Public API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Tidy can use a user-provided allocator for all memory allocations. </p>
<p>If this allocator is not provided, then a default allocator is used which simply wraps standard C malloc()/free() calls. These wrappers call the panic() function upon any failure. The default panic function prints an out of memory message to <b>stderr</b>, and calls <code>exit(2)</code>.</p>
<p>For applications in which it is unacceptable to abort in the case of memory allocation, then the panic function can be replaced with one which <code>longjmps()</code> out of the LibTidy code. For this to clean up completely, you should be careful not to use any Tidy methods that open files as these will not be closed before <code>panic()</code> is called.</p>
<p>Calling the <code>xxxWithAllocator()</code> family (<code>tidyCreateWithAllocator</code>, <code>tidyBufInitWithAllocator</code>, <code>tidyBufAllocWithAllocator</code>) allow setting custom allocators.</p>
<p>All parts of the document use the same allocator. Calls that require a user-provided buffer can optionally use a different allocator.</p>
<p>For reference in designing a plug-in allocator, most allocations made by LibTidy are less than 100 bytes, corresponding to attribute names and values, etc.</p>
<p>There is also an additional class of much larger allocations which are where most of the data from the lexer is stored. It is not currently possible to use a separate allocator for the lexer; this would be a useful extension.</p>
<p>In general, approximately 1/3rd of the memory used by LibTidy is freed during the parse, so if memory usage is an issue then an allocator that can reuse this memory is a good idea.</p>
<p><b>To create your own allocator, do something like the following:</b> </p><div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>_MyAllocator {</div>
<div class="line">   TidyAllocator base;</div>
<div class="line">   <span class="comment">// ...other custom allocator state...</span></div>
<div class="line">} MyAllocator;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span>* MyAllocator_alloc(TidyAllocator *base, <span class="keywordtype">void</span> *block, <span class="keywordtype">size_t</span> nBytes) {</div>
<div class="line">    MyAllocator *<span class="keyword">self</span> = (MyAllocator*)base;</div>
<div class="line">    <span class="comment">// ...</span></div>
<div class="line">}</div>
<div class="line"><span class="comment">// etc.</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> TidyAllocatorVtbl MyAllocatorVtbl = {</div>
<div class="line">    MyAllocator_alloc,</div>
<div class="line">    MyAllocator_realloc,</div>
<div class="line">    MyAllocator_free,</div>
<div class="line">    MyAllocator_panic</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">myAllocator allocator;</div>
<div class="line"><a class="code" href="group__Opaque.html#structTidyDoc">TidyDoc</a> doc;</div>
<div class="line"> </div>
<div class="line">allocator.base.vtbl = &amp;MyAllocatorVtbl;</div>
<div class="line"><span class="comment">//...initialise allocator specific state...</span></div>
<div class="line">doc = <a class="code" href="group__Basic.html#gaf58ea992501470e0998182a1c75df2aa">tidyCreateWithAllocator</a>(&amp;allocator);</div>
<div class="ttc" id="agroup__Basic_html_gaf58ea992501470e0998182a1c75df2aa"><div class="ttname"><a href="group__Basic.html#gaf58ea992501470e0998182a1c75df2aa">tidyCreateWithAllocator</a></div><div class="ttdeci">TidyDoc TIDY_CALL tidyCreateWithAllocator(TidyAllocator *allocator)</div><div class="ttdoc">Create a document supplying your own, custom TidyAllocator instead of using the built-in default.</div></div>
<div class="ttc" id="agroup__Opaque_html_structTidyDoc"><div class="ttname"><a href="group__Opaque.html#structTidyDoc">TidyDoc</a></div><div class="ttdoc">Instances of this represent a Tidy document, which encapsulates everything there is to know about a s...</div></div>
</div><!-- fragment --><p>Although this looks slightly long-winded, the advantage is that to create a custom allocator you simply need to set the vtbl pointer correctly. The vtbl itself can reside in static/global data, and hence does not need to be initialised each time an allocator is created, and furthermore the memory is shared amongst all created allocators. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct__TidyAllocator"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#struct__TidyAllocator">TidyAllocator</a></td></tr>
<tr class="memdesc:struct__TidyAllocator"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tidy's built-in default allocator.  <a href="group__Memory.html#struct__TidyAllocator">More...</a><br /></td></tr>
<tr class="separator:struct__TidyAllocator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct__TidyAllocatorVtbl"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#struct__TidyAllocatorVtbl">TidyAllocatorVtbl</a></td></tr>
<tr class="memdesc:struct__TidyAllocatorVtbl"><td class="mdescLeft">&#160;</td><td class="mdescRight">This structure is the function table for an allocator.  <a href="group__Memory.html#struct__TidyAllocatorVtbl">More...</a><br /></td></tr>
<tr class="separator:struct__TidyAllocatorVtbl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaada345a86e699dfaadd8fe06718b98c1"><td class="memItemLeft" align="right" valign="top">typedef void(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gaada345a86e699dfaadd8fe06718b98c1">TidyFree</a>) (void *buf)</td></tr>
<tr class="memdesc:gaada345a86e699dfaadd8fe06718b98c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for <code>free</code> replacement.  <a href="group__Memory.html#gaada345a86e699dfaadd8fe06718b98c1">More...</a><br /></td></tr>
<tr class="separator:gaada345a86e699dfaadd8fe06718b98c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga787c17cc35380584873e99e37c181640"><td class="memItemLeft" align="right" valign="top">typedef void *(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga787c17cc35380584873e99e37c181640">TidyMalloc</a>) (size_t len)</td></tr>
<tr class="memdesc:ga787c17cc35380584873e99e37c181640"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for <code>malloc</code> replacement.  <a href="group__Memory.html#ga787c17cc35380584873e99e37c181640">More...</a><br /></td></tr>
<tr class="separator:ga787c17cc35380584873e99e37c181640"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5fef9c3b423d924226b2a99f99c7d51"><td class="memItemLeft" align="right" valign="top">typedef void(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gad5fef9c3b423d924226b2a99f99c7d51">TidyPanic</a>) (<a class="el" href="tidyplatform_8h.html#ab79be1eeb8c1b64feac28be54d28ba70">ctmbstr</a> mssg)</td></tr>
<tr class="memdesc:gad5fef9c3b423d924226b2a99f99c7d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for out of memory panic state.  <a href="group__Memory.html#gad5fef9c3b423d924226b2a99f99c7d51">More...</a><br /></td></tr>
<tr class="separator:gad5fef9c3b423d924226b2a99f99c7d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8d63ea537373a328acf80feb89ccfef1"><td class="memItemLeft" align="right" valign="top">typedef void *(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga8d63ea537373a328acf80feb89ccfef1">TidyRealloc</a>) (void *buf, size_t len)</td></tr>
<tr class="memdesc:ga8d63ea537373a328acf80feb89ccfef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for <code>realloc</code> replacement.  <a href="group__Memory.html#ga8d63ea537373a328acf80feb89ccfef1">More...</a><br /></td></tr>
<tr class="separator:ga8d63ea537373a328acf80feb89ccfef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga70e707b7df86effb5727b0b9ff64eed7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga70e707b7df86effb5727b0b9ff64eed7">tidySetFreeCall</a> (<a class="el" href="group__Memory.html#gaada345a86e699dfaadd8fe06718b98c1">TidyFree</a> ffree)</td></tr>
<tr class="memdesc:ga70e707b7df86effb5727b0b9ff64eed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy a <code>free()</code> replacement.  <a href="group__Memory.html#ga70e707b7df86effb5727b0b9ff64eed7">More...</a><br /></td></tr>
<tr class="separator:ga70e707b7df86effb5727b0b9ff64eed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab55079374527525e3374ebc4d2a1e625"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gab55079374527525e3374ebc4d2a1e625">tidySetMallocCall</a> (<a class="el" href="group__Memory.html#ga787c17cc35380584873e99e37c181640">TidyMalloc</a> fmalloc)</td></tr>
<tr class="memdesc:gab55079374527525e3374ebc4d2a1e625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy a <code>malloc()</code> replacement.  <a href="group__Memory.html#gab55079374527525e3374ebc4d2a1e625">More...</a><br /></td></tr>
<tr class="separator:gab55079374527525e3374ebc4d2a1e625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab12cc0435bacec1a8c725e02357acc00"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gab12cc0435bacec1a8c725e02357acc00">tidySetPanicCall</a> (<a class="el" href="group__Memory.html#gad5fef9c3b423d924226b2a99f99c7d51">TidyPanic</a> fpanic)</td></tr>
<tr class="memdesc:gab12cc0435bacec1a8c725e02357acc00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy an "out of memory" handler.  <a href="group__Memory.html#gab12cc0435bacec1a8c725e02357acc00">More...</a><br /></td></tr>
<tr class="separator:gab12cc0435bacec1a8c725e02357acc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga446b538da3ee3f2e5a3827b877665b30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga446b538da3ee3f2e5a3827b877665b30">tidySetReallocCall</a> (<a class="el" href="group__Memory.html#ga8d63ea537373a328acf80feb89ccfef1">TidyRealloc</a> frealloc)</td></tr>
<tr class="memdesc:ga446b538da3ee3f2e5a3827b877665b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy a <code>realloc()</code> replacement.  <a href="group__Memory.html#ga446b538da3ee3f2e5a3827b877665b30">More...</a><br /></td></tr>
<tr class="separator:ga446b538da3ee3f2e5a3827b877665b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct__TidyAllocator" id="struct__TidyAllocator"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct__TidyAllocator">&#9670;&nbsp;</a></span>_TidyAllocator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _TidyAllocator</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Tidy's built-in default allocator. </p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a id="ade7f74ca4da0926c7ae85922a70b57ca"></a>const TidyAllocatorVtbl *</td>
<td class="fieldname">
vtbl</td>
<td class="fielddoc">
The allocator's function table. </td></tr>
</table>

</div>
</div>
<a name="struct__TidyAllocatorVtbl" id="struct__TidyAllocatorVtbl"></a>
<h2 class="memtitle"><span class="permalink"><a href="#struct__TidyAllocatorVtbl">&#9670;&nbsp;</a></span>_TidyAllocatorVtbl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _TidyAllocatorVtbl</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This structure is the function table for an allocator. </p>
<p>Note that all functions in this table must be provided. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Public Member Functions</h3></td></tr>
<tr class="memitem:a832fa63ee92730df581ef2c24759f655"><td class="memItemLeft" align="right" valign="top">void **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a832fa63ee92730df581ef2c24759f655">alloc</a> (TidyAllocator *self, size_t nBytes)</td></tr>
<tr class="memdesc:a832fa63ee92730df581ef2c24759f655"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to allocate a block of nBytes of memory.  <a href="group__Memory.html#a832fa63ee92730df581ef2c24759f655">More...</a><br /></td></tr>
<tr class="separator:a832fa63ee92730df581ef2c24759f655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1454005c9905d144b94dababfe3e7ebe"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a1454005c9905d144b94dababfe3e7ebe">free</a> (TidyAllocator *self, void *block)</td></tr>
<tr class="memdesc:a1454005c9905d144b94dababfe3e7ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to free a previously allocated block of memory.  <a href="group__Memory.html#a1454005c9905d144b94dababfe3e7ebe">More...</a><br /></td></tr>
<tr class="separator:a1454005c9905d144b94dababfe3e7ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac81c837876bc3192eb0a15ccfe28a796"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ac81c837876bc3192eb0a15ccfe28a796">panic</a> (TidyAllocator *self, <a class="el" href="tidyplatform_8h.html#ab79be1eeb8c1b64feac28be54d28ba70">ctmbstr</a> msg)</td></tr>
<tr class="memdesc:ac81c837876bc3192eb0a15ccfe28a796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a panic condition is detected.  <a href="group__Memory.html#ac81c837876bc3192eb0a15ccfe28a796">More...</a><br /></td></tr>
<tr class="separator:ac81c837876bc3192eb0a15ccfe28a796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e2033faca787be19393697c1eef720"><td class="memItemLeft" align="right" valign="top">void **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#af4e2033faca787be19393697c1eef720">realloc</a> (TidyAllocator *self, void *block, size_t nBytes)</td></tr>
<tr class="memdesc:af4e2033faca787be19393697c1eef720"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to resize (grow, in general) a block of memory.  <a href="group__Memory.html#af4e2033faca787be19393697c1eef720">More...</a><br /></td></tr>
<tr class="separator:af4e2033faca787be19393697c1eef720"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Member Function Documentation</h4>
<a id="a832fa63ee92730df581ef2c24759f655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a832fa63ee92730df581ef2c24759f655">&#9670;&nbsp;</a></span>alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* * alloc </td>
          <td>(</td>
          <td class="paramtype">TidyAllocator *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to allocate a block of nBytes of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The TidyAllocator to use to alloc memory. </td></tr>
    <tr><td class="paramname">nBytes</td><td>The number of bytes to allocate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1454005c9905d144b94dababfe3e7ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1454005c9905d144b94dababfe3e7ebe">&#9670;&nbsp;</a></span>free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* free </td>
          <td>(</td>
          <td class="paramtype">TidyAllocator *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>block</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to free a previously allocated block of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The TidyAllocator to use to free memory. </td></tr>
    <tr><td class="paramname">block</td><td>The block to free. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac81c837876bc3192eb0a15ccfe28a796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac81c837876bc3192eb0a15ccfe28a796">&#9670;&nbsp;</a></span>panic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* panic </td>
          <td>(</td>
          <td class="paramtype">TidyAllocator *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tidyplatform_8h.html#ab79be1eeb8c1b64feac28be54d28ba70">ctmbstr</a>&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a panic condition is detected. </p>
<p>Must support <code>block == NULL</code>. This function is not called if either <a class="el" href="group__Memory.html#a832fa63ee92730df581ef2c24759f655" title="Called to allocate a block of nBytes of memory.">alloc()</a> or <a class="el" href="group__Memory.html#af4e2033faca787be19393697c1eef720" title="Called to resize (grow, in general) a block of memory.">realloc()</a> fails; it is up to the allocator to do this. Currently this function can only be called if an error is detected in the tree integrity via the internal function CheckNodeIntegrity(). This is a situation that can only arise in the case of a programming error in LibTidy. You can turn off node integrity checking by defining the constant <code>NO_NODE_INTEGRITY_CHECK</code> during the build. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The TidyAllocator to use to panic. </td></tr>
    <tr><td class="paramname">msg</td><td>The panic message. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af4e2033faca787be19393697c1eef720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e2033faca787be19393697c1eef720">&#9670;&nbsp;</a></span>realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* * realloc </td>
          <td>(</td>
          <td class="paramtype">TidyAllocator *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to resize (grow, in general) a block of memory. </p>
<p>Must support being called with <code>NULL</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>The TidyAllocator to use to realloc memory. </td></tr>
    <tr><td class="paramname">block</td><td>The pointer to the existing block. </td></tr>
    <tr><td class="paramname">nBytes</td><td>The number of bytes to allocate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gaada345a86e699dfaadd8fe06718b98c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaada345a86e699dfaadd8fe06718b98c1">&#9670;&nbsp;</a></span>TidyFree</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> * TidyFree) (void *buf)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for <code>free</code> replacement. </p>

</div>
</div>
<a id="ga787c17cc35380584873e99e37c181640"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga787c17cc35380584873e99e37c181640">&#9670;&nbsp;</a></span>TidyMalloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> * TidyMalloc) (size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for <code>malloc</code> replacement. </p>

</div>
</div>
<a id="gad5fef9c3b423d924226b2a99f99c7d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad5fef9c3b423d924226b2a99f99c7d51">&#9670;&nbsp;</a></span>TidyPanic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> * TidyPanic) (<a class="el" href="tidyplatform_8h.html#ab79be1eeb8c1b64feac28be54d28ba70">ctmbstr</a> mssg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for out of memory panic state. </p>

</div>
</div>
<a id="ga8d63ea537373a328acf80feb89ccfef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8d63ea537373a328acf80feb89ccfef1">&#9670;&nbsp;</a></span>TidyRealloc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(<a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> * TidyRealloc) (void *buf, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for <code>realloc</code> replacement. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga70e707b7df86effb5727b0b9ff64eed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga70e707b7df86effb5727b0b9ff64eed7">&#9670;&nbsp;</a></span>tidySetFreeCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> tidySetFreeCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#gaada345a86e699dfaadd8fe06718b98c1">TidyFree</a>&#160;</td>
          <td class="paramname"><em>ffree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy a <code>free()</code> replacement. </p>

</div>
</div>
<a id="gab55079374527525e3374ebc4d2a1e625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab55079374527525e3374ebc4d2a1e625">&#9670;&nbsp;</a></span>tidySetMallocCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> tidySetMallocCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga787c17cc35380584873e99e37c181640">TidyMalloc</a>&#160;</td>
          <td class="paramname"><em>fmalloc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy a <code>malloc()</code> replacement. </p>

</div>
</div>
<a id="gab12cc0435bacec1a8c725e02357acc00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab12cc0435bacec1a8c725e02357acc00">&#9670;&nbsp;</a></span>tidySetPanicCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> tidySetPanicCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#gad5fef9c3b423d924226b2a99f99c7d51">TidyPanic</a>&#160;</td>
          <td class="paramname"><em>fpanic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy an "out of memory" handler. </p>

</div>
</div>
<a id="ga446b538da3ee3f2e5a3827b877665b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga446b538da3ee3f2e5a3827b877665b30">&#9670;&nbsp;</a></span>tidySetReallocCall()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="tidyplatform_8h.html#a39db6982619d623273fad8a383489309">Bool</a> <a class="el" href="tidyplatform_8h.html#a8d6cbd2c86fd90a688bf906914033ba0">TIDY_CALL</a> tidySetReallocCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga8d63ea537373a328acf80feb89ccfef1">TidyRealloc</a>&#160;</td>
          <td class="paramname"><em>frealloc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy a <code>realloc()</code> replacement. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Aug 19 2021 18:27:21 for HTML Tidy by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
