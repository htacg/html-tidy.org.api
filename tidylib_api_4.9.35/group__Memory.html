<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>HTML Tidy: Memory Allocation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HTML Tidy
   &#160;<span id="projectnumber">4.9.35</span>
   </div>
   <div id="projectbrief">The HTACG Tidy HTML Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Tidy&#160;Home</span></a></li>
      <li><a href="pages.html"><span>Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="https://github.com/htacg/tidy-html5/issues"><span>Bugs&#160;&&#160;Issues</span></a></li>
      <li><a href="https://github.com/htacg/tidy-html5"><span>github</span></a></li>
      <li><a href="http://www.htacg.org/"><span>htacg.org</span></a></li>
      <li><a href="http://www.html-tidy.org/"><span>html-tidy.org</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Memory.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Memory Allocation</div>  </div>
</div><!--header-->
<div class="contents">

<p>Tidy uses a user provided allocator for all memory allocations.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:struct__TidyAllocator"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#struct__TidyAllocator">_TidyAllocator</a></td></tr>
<tr class="memdesc:struct__TidyAllocator"><td class="mdescLeft">&#160;</td><td class="mdescRight">An allocator.  <a href="group__Memory.html#struct__TidyAllocator">More...</a><br/></td></tr>
<tr class="separator:struct__TidyAllocator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:struct__TidyAllocatorVtbl"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#struct__TidyAllocatorVtbl">_TidyAllocatorVtbl</a></td></tr>
<tr class="memdesc:struct__TidyAllocatorVtbl"><td class="mdescLeft">&#160;</td><td class="mdescRight">An allocator's function table.  <a href="group__Memory.html#struct__TidyAllocatorVtbl">More...</a><br/></td></tr>
<tr class="separator:struct__TidyAllocatorVtbl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga78e96524a88db0c09e766795265863da"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__Memory.html#struct__TidyAllocator">_TidyAllocator</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a></td></tr>
<tr class="memdesc:ga78e96524a88db0c09e766795265863da"><td class="mdescLeft">&#160;</td><td class="mdescRight">The allocator.  <a href="#ga78e96524a88db0c09e766795265863da">More...</a><br/></td></tr>
<tr class="separator:ga78e96524a88db0c09e766795265863da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3fe8c5ac7d658618c732565776940ed8"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="group__Memory.html#struct__TidyAllocatorVtbl">_TidyAllocatorVtbl</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga3fe8c5ac7d658618c732565776940ed8">TidyAllocatorVtbl</a></td></tr>
<tr class="memdesc:ga3fe8c5ac7d658618c732565776940ed8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The allocators function table.  <a href="#ga3fe8c5ac7d658618c732565776940ed8">More...</a><br/></td></tr>
<tr class="separator:ga3fe8c5ac7d658618c732565776940ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27931c443e424937ba47f0d4795aa35f"><td class="memItemLeft" align="right" valign="top">typedef void(TIDY_CALL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga27931c443e424937ba47f0d4795aa35f">TidyFree</a> )(void *buf)</td></tr>
<tr class="memdesc:ga27931c443e424937ba47f0d4795aa35f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for "free" replacement.  <a href="#ga27931c443e424937ba47f0d4795aa35f">More...</a><br/></td></tr>
<tr class="separator:ga27931c443e424937ba47f0d4795aa35f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3bd3cc4d0c837a4cd10ab472ba671430"><td class="memItemLeft" align="right" valign="top">typedef void *(TIDY_CALL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga3bd3cc4d0c837a4cd10ab472ba671430">TidyMalloc</a> )(size_t len)</td></tr>
<tr class="memdesc:ga3bd3cc4d0c837a4cd10ab472ba671430"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for "malloc" replacement.  <a href="#ga3bd3cc4d0c837a4cd10ab472ba671430">More...</a><br/></td></tr>
<tr class="separator:ga3bd3cc4d0c837a4cd10ab472ba671430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0770be41d9935a3e2933ba0be3c7725c"><td class="memItemLeft" align="right" valign="top">typedef void(TIDY_CALL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga0770be41d9935a3e2933ba0be3c7725c">TidyPanic</a> )(ctmbstr mssg)</td></tr>
<tr class="memdesc:ga0770be41d9935a3e2933ba0be3c7725c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for "out of memory" panic state.  <a href="#ga0770be41d9935a3e2933ba0be3c7725c">More...</a><br/></td></tr>
<tr class="separator:ga0770be41d9935a3e2933ba0be3c7725c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d9a5625817932dbbb39dd33de678edd"><td class="memItemLeft" align="right" valign="top">typedef void *(TIDY_CALL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga9d9a5625817932dbbb39dd33de678edd">TidyRealloc</a> )(void *buf, size_t len)</td></tr>
<tr class="memdesc:ga9d9a5625817932dbbb39dd33de678edd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for "realloc" replacement.  <a href="#ga9d9a5625817932dbbb39dd33de678edd">More...</a><br/></td></tr>
<tr class="separator:ga9d9a5625817932dbbb39dd33de678edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga70e707b7df86effb5727b0b9ff64eed7"><td class="memItemLeft" align="right" valign="top">Bool TIDY_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga70e707b7df86effb5727b0b9ff64eed7">tidySetFreeCall</a> (<a class="el" href="group__Memory.html#ga27931c443e424937ba47f0d4795aa35f">TidyFree</a> ffree)</td></tr>
<tr class="memdesc:ga70e707b7df86effb5727b0b9ff64eed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy a free() replacement.  <a href="#ga70e707b7df86effb5727b0b9ff64eed7">More...</a><br/></td></tr>
<tr class="separator:ga70e707b7df86effb5727b0b9ff64eed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab55079374527525e3374ebc4d2a1e625"><td class="memItemLeft" align="right" valign="top">Bool TIDY_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gab55079374527525e3374ebc4d2a1e625">tidySetMallocCall</a> (<a class="el" href="group__Memory.html#ga3bd3cc4d0c837a4cd10ab472ba671430">TidyMalloc</a> fmalloc)</td></tr>
<tr class="memdesc:gab55079374527525e3374ebc4d2a1e625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy a malloc() replacement.  <a href="#gab55079374527525e3374ebc4d2a1e625">More...</a><br/></td></tr>
<tr class="separator:gab55079374527525e3374ebc4d2a1e625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab12cc0435bacec1a8c725e02357acc00"><td class="memItemLeft" align="right" valign="top">Bool TIDY_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#gab12cc0435bacec1a8c725e02357acc00">tidySetPanicCall</a> (<a class="el" href="group__Memory.html#ga0770be41d9935a3e2933ba0be3c7725c">TidyPanic</a> fpanic)</td></tr>
<tr class="memdesc:gab12cc0435bacec1a8c725e02357acc00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy an "out of memory" handler.  <a href="#gab12cc0435bacec1a8c725e02357acc00">More...</a><br/></td></tr>
<tr class="separator:gab12cc0435bacec1a8c725e02357acc00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga446b538da3ee3f2e5a3827b877665b30"><td class="memItemLeft" align="right" valign="top">Bool TIDY_CALL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ga446b538da3ee3f2e5a3827b877665b30">tidySetReallocCall</a> (<a class="el" href="group__Memory.html#ga9d9a5625817932dbbb39dd33de678edd">TidyRealloc</a> frealloc)</td></tr>
<tr class="memdesc:ga446b538da3ee3f2e5a3827b877665b30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give Tidy a realloc() replacement.  <a href="#ga446b538da3ee3f2e5a3827b877665b30">More...</a><br/></td></tr>
<tr class="separator:ga446b538da3ee3f2e5a3827b877665b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Tidy uses a user provided allocator for all memory allocations. </p>
<p>If this allocator is not provided, then a default allocator is used which simply wraps standard C malloc/free calls. These wrappers call the panic function upon any failure. The default panic function prints an out of memory message to stderr, and calls exit(2).</p>
<p>For applications in which it is unacceptable to abort in the case of memory allocation, then the panic function can be replaced with one which longjmps() out of the tidy code. For this to clean up completely, you should be careful not to use any tidy methods that open files as these will not be closed before panic() is called.</p>
<p>TODO: associate file handles with tidyDoc and ensure that tidyDocRelease() can close them all.</p>
<p>Calling the withAllocator() family ( tidyCreateWithAllocator, tidyBufInitWithAllocator, tidyBufAllocWithAllocator) allow settings custom allocators).</p>
<p>All parts of the document use the same allocator. Calls that require a user provided buffer can optionally use a different allocator.</p>
<p>For reference in designing a plug-in allocator, most allocations made by tidy are less than 100 bytes, corresponding to attribute names/values, etc.</p>
<p>There is also an additional class of much larger allocations which are where most of the data from the lexer is stored. (It is not currently possible to use a separate allocator for the lexer, this would be a useful extension).</p>
<p>In general, approximately 1/3rd of the memory used by tidy is freed during the parse, so if memory usage is an issue then an allocator that can reuse this memory is a good idea. </p>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="struct__TidyAllocator" id="struct__TidyAllocator"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _TidyAllocator</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>An allocator. </p>
<p>To create your own allocator, do something like the following: </p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keyword">struct </span>_MyAllocator {</div>
<div class="line">   <a class="code" href="group__Memory.html#struct__TidyAllocator">TidyAllocator</a> base;</div>
<div class="line">   ...other custom allocator state...</div>
<div class="line">} MyAllocator;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span>* MyAllocator_alloc(<a class="code" href="group__Memory.html#struct__TidyAllocator">TidyAllocator</a> *base, <span class="keywordtype">void</span> *block, <span class="keywordtype">size_t</span> nBytes)</div>
<div class="line">{</div>
<div class="line">    MyAllocator *<span class="keyword">self</span> = (MyAllocator*)base;</div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="line">(etc)</div>
<div class="line"></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__Memory.html#struct__TidyAllocatorVtbl">TidyAllocatorVtbl</a> MyAllocatorVtbl = {</div>
<div class="line">    MyAllocator_alloc,</div>
<div class="line">    MyAllocator_realloc,</div>
<div class="line">    MyAllocator_free,</div>
<div class="line">    MyAllocator_panic</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line">myAllocator allocator;</div>
<div class="line"><a class="code" href="group__Opaque.html#structTidyDoc">TidyDoc</a> doc;</div>
<div class="line"></div>
<div class="line">allocator.base.vtbl = &amp;amp;MyAllocatorVtbl;</div>
<div class="line">...initialise allocator specific state...</div>
<div class="line">doc = <a class="code" href="group__Basic.html#gaf58ea992501470e0998182a1c75df2aa">tidyCreateWithAllocator</a>(&amp;allocator);</div>
</div><!-- fragment --><p>Although this looks slightly long winded, the advantage is that to create a custom allocator you simply need to set the vtbl pointer correctly. The vtbl itself can reside in static/global data, and hence does not need to be initialised each time an allocator is created, and furthermore the memory is shared amongst all created allocators. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00224">224</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>
</div><table class="fieldtable">
<tr><th colspan="3">Data Fields</th></tr>
<tr><td class="fieldtype">
<a class="anchor" id="a2113f1c06a3cfe4cbdf9212a47e6938b"></a>const <a class="el" href="group__Memory.html#ga3fe8c5ac7d658618c732565776940ed8">TidyAllocatorVtbl</a> *</td>
<td class="fieldname">
vtbl</td>
<td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<a name="struct__TidyAllocatorVtbl" id="struct__TidyAllocatorVtbl"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct _TidyAllocatorVtbl</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>An allocator's function table. </p>
<p>All functions here must be provided. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00166">166</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Public Member Functions</h3></td></tr>
<tr class="memitem:ac89bb7f5b58fcb5b31a1560705f3b817"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a> *TIDY_CALL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#ac89bb7f5b58fcb5b31a1560705f3b817">alloc</a> (<a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a> *self, size_t nBytes)</td></tr>
<tr class="memdesc:ac89bb7f5b58fcb5b31a1560705f3b817"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to allocate a block of nBytes of memory.  <a href="#ac89bb7f5b58fcb5b31a1560705f3b817">More...</a><br/></td></tr>
<tr class="separator:ac89bb7f5b58fcb5b31a1560705f3b817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cad0dd2aa75a20573fc46f25460a5cc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a> *TIDY_CALL *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a0cad0dd2aa75a20573fc46f25460a5cc">realloc</a> (<a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a> *self, <a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a> *<a class="el" href="group__Memory.html#a098a1144e7222917467b007f7a5001fc">block</a>, size_t nBytes)</td></tr>
<tr class="memdesc:a0cad0dd2aa75a20573fc46f25460a5cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to resize (grow, in general) a block of memory.  <a href="#a0cad0dd2aa75a20573fc46f25460a5cc">More...</a><br/></td></tr>
<tr class="separator:a0cad0dd2aa75a20573fc46f25460a5cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e453d5e80b35fe3c6c15512c6b95aa5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a> (TIDY_CALL *free)(<a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a> *self</td></tr>
<tr class="memdesc:a1e453d5e80b35fe3c6c15512c6b95aa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called to free a previously allocated block of memory.  <a href="#a1e453d5e80b35fe3c6c15512c6b95aa5">More...</a><br/></td></tr>
<tr class="separator:a1e453d5e80b35fe3c6c15512c6b95aa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ecb749644f9253427eb53028363d01d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a4ecb749644f9253427eb53028363d01d">void</a> (TIDY_CALL *panic)(<a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a> *self</td></tr>
<tr class="memdesc:a4ecb749644f9253427eb53028363d01d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called when a panic condition is detected.  <a href="#a4ecb749644f9253427eb53028363d01d">More...</a><br/></td></tr>
<tr class="separator:a4ecb749644f9253427eb53028363d01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:a098a1144e7222917467b007f7a5001fc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a098a1144e7222917467b007f7a5001fc">block</a></td></tr>
<tr class="separator:a098a1144e7222917467b007f7a5001fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b8f23e78a6636c055ecc9ff13aadb3"><td class="memItemLeft" align="right" valign="top">ctmbstr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Memory.html#a93b8f23e78a6636c055ecc9ff13aadb3">msg</a></td></tr>
<tr class="separator:a93b8f23e78a6636c055ecc9ff13aadb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Member Function Documentation</h4>
<a class="anchor" id="ac89bb7f5b58fcb5b31a1560705f3b817"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a>* TIDY_CALL* _TidyAllocatorVtbl::alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to allocate a block of nBytes of memory. </p>

</div>
</div>
<a class="anchor" id="a0cad0dd2aa75a20573fc46f25460a5cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a>* TIDY_CALL* _TidyAllocatorVtbl::realloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a> *&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to resize (grow, in general) a block of memory. </p>
<p>Must support being called with NULL. </p>

</div>
</div>
<a class="anchor" id="a1e453d5e80b35fe3c6c15512c6b95aa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_TidyAllocatorVtbl::void </td>
          <td>(</td>
          <td class="paramtype">TIDY_CALL *&#160;</td>
          <td class="paramname"><em>free</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called to free a previously allocated block of memory. </p>

</div>
</div>
<a class="anchor" id="a4ecb749644f9253427eb53028363d01d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_TidyAllocatorVtbl::void </td>
          <td>(</td>
          <td class="paramtype">TIDY_CALL *&#160;</td>
          <td class="paramname"><em>panic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called when a panic condition is detected. </p>
<p>Must support block == NULL. This function is not called if either alloc or realloc fails; it is up to the allocator to do this. Currently this function can only be called if an error is detected in the tree integrity via the internal function CheckNodeIntegrity(). This is a situation that can only arise in the case of a programming error in tidylib. You can turn off node integrity checking by defining the constant NO_NODE_INTEGRITY_CHECK during the build. </p>

</div>
</div>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="a098a1144e7222917467b007f7a5001fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__Memory.html#a1e453d5e80b35fe3c6c15512c6b95aa5">void</a>* _TidyAllocatorVtbl::block</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00174">174</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<a class="anchor" id="a93b8f23e78a6636c055ecc9ff13aadb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ctmbstr _TidyAllocatorVtbl::msg</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00185">185</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga78e96524a88db0c09e766795265863da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__Memory.html#struct__TidyAllocator">_TidyAllocator</a> <a class="el" href="group__Memory.html#ga78e96524a88db0c09e766795265863da">TidyAllocator</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The allocator. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00161">161</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3fe8c5ac7d658618c732565776940ed8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="group__Memory.html#struct__TidyAllocatorVtbl">_TidyAllocatorVtbl</a> <a class="el" href="group__Memory.html#ga3fe8c5ac7d658618c732565776940ed8">TidyAllocatorVtbl</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The allocators function table. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00156">156</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga27931c443e424937ba47f0d4795aa35f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(TIDY_CALL * TidyFree)(void *buf)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for "free" replacement. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00233">233</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga3bd3cc4d0c837a4cd10ab472ba671430"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(TIDY_CALL * TidyMalloc)(size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for "malloc" replacement. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00229">229</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga0770be41d9935a3e2933ba0be3c7725c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(TIDY_CALL * TidyPanic)(ctmbstr mssg)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for "out of memory" panic state. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00235">235</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9d9a5625817932dbbb39dd33de678edd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void*(TIDY_CALL * TidyRealloc)(void *buf, size_t len)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for "realloc" replacement. </p>

<p>Definition at line <a class="el" href="tidy_8h_source.html#l00231">231</a> of file <a class="el" href="tidy_8h_source.html">tidy.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga70e707b7df86effb5727b0b9ff64eed7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool TIDY_CALL tidySetFreeCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga27931c443e424937ba47f0d4795aa35f">TidyFree</a>&#160;</td>
          <td class="paramname"><em>ffree</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy a free() replacement. </p>

</div>
</div>
<a class="anchor" id="gab55079374527525e3374ebc4d2a1e625"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool TIDY_CALL tidySetMallocCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga3bd3cc4d0c837a4cd10ab472ba671430">TidyMalloc</a>&#160;</td>
          <td class="paramname"><em>fmalloc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy a malloc() replacement. </p>

</div>
</div>
<a class="anchor" id="gab12cc0435bacec1a8c725e02357acc00"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool TIDY_CALL tidySetPanicCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga0770be41d9935a3e2933ba0be3c7725c">TidyPanic</a>&#160;</td>
          <td class="paramname"><em>fpanic</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy an "out of memory" handler. </p>

</div>
</div>
<a class="anchor" id="ga446b538da3ee3f2e5a3827b877665b30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool TIDY_CALL tidySetReallocCall </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__Memory.html#ga9d9a5625817932dbbb39dd33de678edd">TidyRealloc</a>&#160;</td>
          <td class="paramname"><em>frealloc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give Tidy a realloc() replacement. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Jun 9 2015 15:54:14 for HTML Tidy by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
